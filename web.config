<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <handlers>
            <!-- 
            Atualize o scriptProcessor para apontar para o python.exe da sua venv 
            e o wfastcgi.py dentro da venv correspondente.
            -->
            <add name="Python FastCGI" 
                 path="*" 
                 verb="*" 
                 modules="FastCgiModule" 
                 scriptProcessor="C:\DENV\app.control360.SOU\app.control360.SOU\venv\Scripts\python.exe|C:\DENV\app.control360.SOU\app.control360.SOU\venv\Lib\site-packages\wfastcgi.py" 
                 resourceType="Unspecified" 
                 requireAccess="Script" />
        </handlers>
    </system.webServer>

    <appSettings>
        <!-- Variáveis de Ambiente para a Aplicação Flask -->
        
        <!-- PYTHONPATH: Aponta para a raiz do projeto para que o Python encontre seu módulo 'app' -->
        <add key="PYTHONPATH" value="C:\DENV\app.control360.SOU\app.control360.SOU" />
        
        <!-- WSGI_HANDLER: Aponta para a instância da aplicação Flask. 
             Formato: nome_do_modulo.nome_da_variavel_app 
             Assumindo que seu app Flask está em app/__init__.py e se chama 'app'
        -->
        <add key="WSGI_HANDLER" value="app.app" />

        <!-- FLASK_APP (Opcional, mas boa prática): Ponto de entrada da aplicação -->
        <add key="FLASK_APP" value="app" /> 
        
        <!-- Adicione outras variáveis de ambiente necessárias aqui -->
        <!-- Exemplo: <add key="DATABASE_URL" value="sua_string_de_conexao" /> -->
        
    </appSettings>
</configuration> 